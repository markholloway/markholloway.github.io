<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Nuke 6.3 small studio setup for Windows/OS X | Mark Holloway</title><meta name=description content="Notes from a curiosity-driven engineer."><link rel=canonical href=https://markholloway.com/blog/2011/10/28/nuke-6.3-small-studio-setup-for-windows/os-x/><meta property="og:url" content="https://markholloway.com/blog/2011/10/28/nuke-6.3-small-studio-setup-for-windows/os-x/"><meta property="og:site_name" content="Mark Holloway"><meta property="og:title" content="Nuke 6.3 small studio setup for Windows/OS X"><meta property="og:description" content="This is a quick guide to setting Nuke 6.3 up with a custom menu and make it work more seamlessly across operating systems.
Since I jump between my Mac laptop and a Windows based workstation, I used to mess around with broken file read nodes in The Foundry’s Nuke and other stuff related to file paths being different on Windows and Mac OS X. Well… no more!
In this article, I will explain how to set up Nuke with a few handy extras that will make it fly even smoother across Windows and Mac computers, and with custom menus. Let me know if there are any specific Windows/Mac switching woes that you are experiencing, which are not covered here."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2011-10-28T00:00:00+00:00"><meta property="article:modified_time" content="2011-10-28T00:00:00+00:00"><meta property="article:tag" content="Nuke"><meta property="article:tag" content="Python"><meta name=twitter:card content="summary"><meta name=twitter:title content="Nuke 6.3 small studio setup for Windows/OS X"><meta name=twitter:description content="This is a quick guide to setting Nuke 6.3 up with a custom menu and make it work more seamlessly across operating systems.
Since I jump between my Mac laptop and a Windows based workstation, I used to mess around with broken file read nodes in The Foundry’s Nuke and other stuff related to file paths being different on Windows and Mac OS X. Well… no more!
In this article, I will explain how to set up Nuke with a few handy extras that will make it fly even smoother across Windows and Mac computers, and with custom menus. Let me know if there are any specific Windows/Mac switching woes that you are experiencing, which are not covered here."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Nuke 6.3 small studio setup for Windows\/OS X","datePublished":"2011-10-28T00:00:00Z","dateModified":"2011-10-28T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/markholloway.com\/blog\/2011\/10\/28\/nuke-6.3-small-studio-setup-for-windows\/os-x\/"},"author":{"@type":"Person","name":"map[]"},"description":"This is a quick guide to setting Nuke 6.3 up with a custom menu and make it work more seamlessly across operating systems.\nSince I jump between my Mac laptop and a Windows based workstation, I used to mess around with broken file read nodes in The Foundry’s Nuke and other stuff related to file paths being different on Windows and Mac OS X. Well\u0026hellip; no more!\nIn this article, I will explain how to set up Nuke with a few handy extras that will make it fly even smoother across Windows and Mac computers, and with custom menus. Let me know if there are any specific Windows\/Mac switching woes that you are experiencing, which are not covered here.\n"}</script><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=preload href=/fonts/BerkeleyMono-Variable.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/CommitMono-Variable.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/MapleMono-Italic.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/github-link.css><script defer src=https://cloud.umami.is/script.js data-website-id=c9c97df3-bc05-4b29-8caa-fcf03a05710f></script></head><body class=preload><script>(function(){const e=localStorage.getItem("theme");e?document.body.classList.add(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark"),"fonts"in document?Promise.race([document.fonts.ready,new Promise(e=>setTimeout(e,100))]).then(()=>{document.body.classList.remove("preload")}):setTimeout(()=>{document.body.classList.remove("preload")},50)})()</script><nav style=display:flex;align-items:center;gap:1em;flex-wrap:wrap><ul class=menu style=margin:0;padding:0;flex-shrink:0><li><a href=/>Home</a></li><li><a href=/blog/>Blog</a></li><li><a href=/about/>About</a></li><li><button id=theme-toggle style="background:0 0;border:none;cursor:pointer;font-size:1em;padding:5px;color:inherit">◑</button></li></ul><div id=search style=flex-grow:1;min-width:200px></div></nav><link href=/pagefind/pagefind-ui.css rel=stylesheet><script src=/pagefind/pagefind-ui.js></script><script>window.addEventListener("DOMContentLoaded",e=>{new PagefindUI({element:"#search",showSubResults:!0,showImages:!1,translations:{placeholder:"Search...",clear_search:"×"}}),document.addEventListener("click",e=>{const t=document.querySelector("#search");if(t&&!t.contains(e.target)){const e=t.querySelector(".pagefind-ui__search-clear");e&&e.click()}});const n=document.getElementById("theme-toggle"),t=document.body;n.addEventListener("click",()=>{t.classList.contains("dark")?(t.classList.remove("dark"),t.classList.add("light"),localStorage.setItem("theme","light")):(t.classList.remove("light"),t.classList.add("dark"),localStorage.setItem("theme","dark"))})})</script><div class=article-meta><h1><span class=title>Nuke 6.3 small studio setup for Windows/OS X</span></h1><div class=article-meta-info><span class=date>2011-10-28</span>
<span class=article-tags><a href=/tags/nuke>#nuke</a>
<a href=/tags/python>#python</a></span></div></div><main data-pagefind-body><aside class=table-of-contents><div class=toc-title><svg class="callout-icon" viewBox="0 0 24 24" width="16" height="16" aria-hidden="true" fill="currentColor"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/></svg>
Table of Contents</div><nav id=TableOfContents><ul><li><a href=#the-nuke_path-environment-variable>The NUKE_PATH environment variable</a></li><li><a href=#the-files-and-folder-structure>The files and folder structure</a></li><li><a href=#make-read-nodes-load-up-without-errors-on-both-windows-and-os-x>Make Read nodes load up without errors on both Windows and OS X</a></li><li><a href=#generate-os-specific-variable-values>Generate OS-specific variable values</a></li><li><a href=#favorites-cross-platform>Favorites, cross-platform</a></li><li><a href=#add-more-formats>Add more formats</a></li><li><a href=#define-custom-location-for-gizmos-and-plugins-cross-platform>Define custom location for gizmos and plugins, cross-platform</a></li><li><a href=#load-os-specific-plugins-cross-platform>Load OS-specific plugins, cross-platform</a></li><li><a href=#load-os-specific-ofx-plugins-cross-platform>Load OS-specific OFX plugins, cross-platform</a></li><li><a href=#creating-a-custom-toolbar-menu-and-file-menu>Creating a custom toolbar menu and file menu</a></li><li><a href=#other-tweaks>Other tweaks</a></li><li><a href=#if-write-dir-does-not-exist-make-nuke-create-it-automatically>If write dir does not exist, make Nuke create it automatically</a></li></ul></nav></aside><p>This is a quick guide to setting Nuke 6.3 up with a custom menu and make it work more seamlessly across operating systems.</p><p>Since I jump between my Mac laptop and a Windows based workstation, I used to mess around with broken file read nodes in The Foundry’s Nuke and other stuff related to file paths being different on Windows and Mac OS X. Well&mldr; no more!</p><p>In this article, I will explain how to set up Nuke with a few handy extras that will make it fly even smoother across Windows and Mac computers, and with custom menus. Let me know if there are any specific Windows/Mac switching woes that you are experiencing, which are not covered here.</p><p>Downloads:</p><ul><li><a href=https://raw.github.com/fredrikaverpil/nuke/master/init.py target=_blank rel=noopener>init.py</a></li><li><a href=https://raw.github.com/fredrikaverpil/nuke/master/menu.py target=_blank rel=noopener>menu.py</a></li><li><a href=https://raw.github.com/fredrikaverpil/nuke/master/launchers/launch_nuke.py target=_blank rel=noopener>launch_nuke.py</a></li><li><a href=https://raw.github.com/fredrikaverpil/nuke/master/launchers/launch_nuke.sh target=_blank rel=noopener>launch_nuke.sh</a></li></ul><h2 id=the-nuke_path-environment-variable>The NUKE_PATH environment variable</h2><p>First off, create the environment variable <code>NUKE_PATH</code> and point it to a centralized server location, in my case <code>Y:/include/nuke</code> on Windows or <code>/Volumes/Assets/include/nuke</code> on Mac OS X. Nuke will then look for this environment variable and intialize any customizations defined with <code>init.py</code> and <code>menu.py</code>, which we will create inside this directory.</p><p>An alternative to setting the environment variable is to run Nuke from a Python script or a bash script for the Mac, which will launch Nuke with the environment variable loaded for the particular shell it is running in. Examples of this below&mldr;</p><p>Contents of <code>launch_nuke.py</code> (works on Windows with Python installed):</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;NUKE_PATH&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;Y:/include/nuke&#39;</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>startfile</span><span class=p>(</span><span class=s1>&#39;C:/Program Files/Nuke6.3v5/Nuke6.3v5.exe&#39;</span><span class=p>)</span></span></span></code></pre></div></div><p>Contents of <code>launch_nuke.sh</code> (works on Mac OS X):</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>NUKE_PATH</span><span class=o>=</span>/Volumes/Assets/include/nuke
</span></span><span class=line><span class=cl>/Applications/Nuke6.3v5/Nuke6.3v5.app/Nuke6.3v5</span></span></code></pre></div></div><h2 id=the-files-and-folder-structure>The files and folder structure</h2><p>Inside the <code>/include/nuke</code> folder, we will create the following files and folder structure:</p><pre><code>gizmos/
icons/
plugins/
scripts/
init.py
menu.py
</code></pre><p>Just create <code>init.py</code> and <code>menu.py</code> as empty text files.</p><p>The <code>init.py</code> will serve as a script that will initialize Nuke with custom functions.
The <code>menu.py</code> will solely handle the interactive bits of our customization, such as the custom menus in the GUI.
Each folder will soon be acknowledged by Nuke to contain loadable things (scripts, gizmos etc), but I like to keep it organized and nice, thus separating icons from plugins from scripts.</p><h2 id=make-read-nodes-load-up-without-errors-on-both-windows-and-os-x>Make Read nodes load up without errors on both Windows and OS X</h2><p>By specifying the file server paths for both Windows and Mac OS X in <code>init.py</code>, we will be able to filter these paths out and replace them with the appropriate ones, for the current operating system, without forcing the user to manually changing the file paths:</p><p>Add to <code>init.py</code>:</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Make all filepaths load without errors regardless of OS (No Linux support and no C: support)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myFilenameFilter</span><span class=p>(</span><span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>nuke</span><span class=o>.</span><span class=n>env</span><span class=p>[</span><span class=s1>&#39;MACOS&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>		<span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span> <span class=s1>&#39;X:&#39;</span><span class=p>,</span> <span class=s1>&#39;/Volumes/Projects&#39;</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span> <span class=s1>&#39;Y:&#39;</span><span class=p>,</span> <span class=s1>&#39;/Volumes/Assets&#39;</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>nuke</span><span class=o>.</span><span class=n>env</span><span class=p>[</span><span class=s1>&#39;WIN32&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>		<span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span> <span class=s1>&#39;/Volumes/Projects&#39;</span><span class=p>,</span> <span class=s1>&#39;X:&#39;</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span> <span class=s1>&#39;/Volumes/Assets&#39;</span><span class=p>,</span> <span class=s1>&#39;Y:&#39;</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>filename</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Use the filenameFilter(s)</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>addFilenameFilter</span><span class=p>(</span><span class=n>myFilenameFilter</span><span class=p>)</span></span></span></code></pre></div></div><p>You can read more about the filenameFilter in
<a href=https://docs.thefoundry.co.uk/nuke/63/pythondevguide/callbacks.html#filenamefilter target=_blank rel=noopener>The Foundry’s Python docs</a>. If you wish to specify file paths for Linux systems, simply check out <code>nuke.env['LINUX']</code>, like in their sample code on that page. For some reason, their sample code snipplet does not work with Nuke 6.3 as of writing this.</p><h2 id=generate-os-specific-variable-values>Generate OS-specific variable values</h2><p>In order to make a whole lot of custom stuff work, we need to detect the current operating system. This time around I have taken a bit different route when detecting the OS type, by using the Python “sys” library. It’s up to you which flavour you like best.</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create OS specific variables (no Linux support)</span>
</span></span><span class=line><span class=cl><span class=n>volProjects</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl><span class=n>volAssets</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>platform</span> <span class=o>==</span> <span class=s1>&#39;win32&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=n>volProjects</span> <span class=o>=</span> <span class=s1>&#39;X:&#39;</span>
</span></span><span class=line><span class=cl>	<span class=n>volAssets</span> <span class=o>=</span> <span class=s1>&#39;Y:&#39;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>platform</span> <span class=o>==</span> <span class=s1>&#39;darwin&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=n>volProjects</span> <span class=o>=</span> <span class=s1>&#39;/Volumes/Projects&#39;</span>
</span></span><span class=line><span class=cl>	<span class=n>volAssets</span> <span class=o>=</span> <span class=s1>&#39;/Volumes/Assets&#39;</span></span></span></code></pre></div></div><p>Please note that the variables created here will be required by the examples below as well. And again, I have not bothered to add Linux support. Just google it. :)</p><h2 id=favorites-cross-platform>Favorites, cross-platform</h2><p>Add to <code>init.py</code>:</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Make these favorites show up in Nuke</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>addFavoriteDir</span><span class=p>(</span><span class=s1>&#39;File server&#39;</span><span class=p>,</span> <span class=n>volProjects</span> <span class=o>+</span> <span class=s1>&#39;/Projects/&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>addFavoriteDir</span><span class=p>(</span><span class=s1>&#39;Assets&#39;</span><span class=p>,</span> <span class=n>volAssets</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>addFavoriteDir</span><span class=p>(</span><span class=s1>&#39;R&amp;D&#39;</span><span class=p>,</span> <span class=n>volProjects</span> <span class=o>+</span> <span class=s1>&#39;/RnD/&#39;</span><span class=p>)</span></span></span></code></pre></div></div><h2 id=add-more-formats>Add more formats</h2><p>Add to <code>init.py</code>:</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Formats</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>addFormat</span><span class=p>(</span> <span class=s1>&#39;1024 576 PAL Widescreen&#39;</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>addFormat</span><span class=p>(</span> <span class=s1>&#39;1280 720 HD 720p&#39;</span> <span class=p>)</span></span></span></code></pre></div></div><h2 id=define-custom-location-for-gizmos-and-plugins-cross-platform>Define custom location for gizmos and plugins, cross-platform</h2><p>In order to easily load gizmos and plugins from within our own custom menus, I will just add a bit of extra code to init.py:</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Set plugin/gizmo sub-folders</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>pluginAppendPath</span><span class=p>(</span><span class=n>volAssets</span> <span class=o>+</span> <span class=s1>&#39;/include/nuke/gizmos&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>pluginAppendPath</span><span class=p>(</span><span class=n>volAssets</span> <span class=o>+</span> <span class=s1>&#39;/include/nuke/plugins&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>pluginAppendPath</span><span class=p>(</span><span class=n>volAssets</span> <span class=o>+</span> <span class=s1>&#39;/include/nuke/scripts&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>pluginAppendPath</span><span class=p>(</span><span class=n>volAssets</span> <span class=o>+</span> <span class=s1>&#39;/include/nuke/icons&#39;</span><span class=p>)</span></span></span></code></pre></div></div><h2 id=load-os-specific-plugins-cross-platform>Load OS-specific plugins, cross-platform</h2><p>In this example, I am loading
<a href=https://www.peregrinelabs.com/bokeh target=_blank rel=noopener>Peregrine Lab’s Bokeh</a>, and since it is built for Windows and Mac OS X respectively, I need to specify which OS build I will try and load up since I will not be able to load the Windows plugin on Mac OS X or vice versa. On Mac OS X, you can use
<a href=https://www.charlessoft.com/ target=_blank rel=noopener>Pacifist</a> to extract the files from the .dmg file to be put on the server location.</p><p>Assuming you have already installed the floating server licenses onto 10.0.1.100 and the RLM server is running on port 5053, add to <code>init.py</code>:</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Load Bokeh</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;RLM_LICENSE&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;5053@10.0.1.100&#39;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>nuke</span><span class=o>.</span><span class=n>env</span><span class=p>[</span><span class=s1>&#39;WIN32&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>	<span class=n>currentBokeh</span> <span class=o>=</span> <span class=s1>&#39;Bokeh-Nuke6.3-1.2.3-win64&#39;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>nuke</span><span class=o>.</span><span class=n>env</span><span class=p>[</span><span class=s1>&#39;MACOS&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>	<span class=n>currentBokeh</span> <span class=o>=</span> <span class=s1>&#39;Bokeh-Nuke6.3-1.2.3-Darwin&#39;</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>pluginAppendPath</span><span class=p>(</span><span class=n>volAssets</span> <span class=o>+</span> <span class=s1>&#39;/include/nuke/plugins/bokeh/&#39;</span> <span class=o>+</span> <span class=n>currentBokeh</span> <span class=o>+</span> <span class=s1>&#39;/&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&#34;pgBokeh&#34;</span><span class=p>)</span></span></span></code></pre></div></div><p>Please note that on Windows, you may have to copy the .dll files from the Bokeh build into the root of the build’s folder.</p><h2 id=load-os-specific-ofx-plugins-cross-platform>Load OS-specific OFX plugins, cross-platform</h2><p>In this example, I’m loading
<a href=https://www.frischluft.com/lenscare/index.php target=_blank rel=noopener>Frischluft’s Lenscare</a>. Unlike “regular” plugins, OFX plugins are identified by an environment variable. If it’s not already set, we will set it. If it had been already set, any existing content to the environment variable is preserved (any local installations of OFX plugins will be maintained).</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Check wheter OFX_PLUGIN_PATH has been set or not</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;OFX_PLUGIN_PATH&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=s1>&#39;;&#39;</span>
</span></span><span class=line><span class=cl><span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;OFX_PLUGIN_PATH&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Load Frischluft Lenscare</span>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>platform</span> <span class=o>==</span> <span class=s1>&#39;win32&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;OFX_PLUGIN_PATH&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=n>volAssets</span> <span class=o>+</span> <span class=s1>&#39;/bin/lenscare/lenscare_ofx_v1.44_win&#39;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>platform</span> <span class=o>==</span> <span class=s1>&#39;darwin&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;OFX_PLUGIN_PATH&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=n>volAssets</span> <span class=o>+</span> <span class=s1>&#39;/bin/lenscare/lenscare_ofx_v1.44_osx&#39;</span></span></span></code></pre></div></div><h2 id=creating-a-custom-toolbar-menu-and-file-menu>Creating a custom toolbar menu and file menu</h2><p>I am using menu.py to set this up, and I will create a file menu as well as a toolbar menu. The toolbar menu tools will show up when you hit “tab” in the node graph and start typing its name, and so, I would like these to be tools that generate a node. The file menu will only include the tools that launch a menu or perform an action that does not generate a new node in the node graph.</p><p>Enter the following into <code>menu.py</code>:</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># -------- My Toolbar --------</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialize the toolbar menu</span>
</span></span><span class=line><span class=cl><span class=n>toolbar</span> <span class=o>=</span> <span class=n>nuke</span><span class=o>.</span><span class=n>toolbar</span><span class=p>(</span><span class=s1>&#39;Nodes&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># My tools</span>
</span></span><span class=line><span class=cl><span class=n>toolbar</span><span class=o>.</span><span class=n>addCommand</span><span class=p>(</span><span class=s1>&#39;My Nodes/Bezier&#39;</span><span class=p>,</span> <span class=s2>&#34;nuke.createNode(&#39;Bezier&#39;)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>toolbar</span><span class=o>.</span><span class=n>addCommand</span><span class=p>(</span> <span class=s2>&#34;My Nodes/pgBokeh&#34;</span><span class=p>,</span> <span class=s2>&#34;nuke.createNode(&#39;pgBokeh&#39;)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -------- My File Menu --------</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>menu</span><span class=p>(</span> <span class=s1>&#39;Nuke&#39;</span> <span class=p>)</span><span class=o>.</span><span class=n>addCommand</span><span class=p>(</span> <span class=s1>&#39;My file menu/Rendering/Send to RenderManager&#39;</span><span class=p>,</span> <span class=s2>&#34;nuke.load(</span><span class=se>\&#34;</span><span class=s2>submitNukeToRenderManager</span><span class=se>\&#34;</span><span class=s2>), submitNukeToRenderManager()&#34;</span> <span class=p>)</span></span></span></code></pre></div></div><p>Just fill those menus up with your heart’s content, by editing the code above to load up any downloaded gizmo or plugin (placed in their respective centralized folders within your <code>NUKE_PATH</code>).</p><h2 id=other-tweaks>Other tweaks</h2><p>The following tweaks are not cross-platform related. Just some things that might come in handy…</p><h2 id=if-write-dir-does-not-exist-make-nuke-create-it-automatically>If write dir does not exist, make Nuke create it automatically</h2><p>This is quite an annoying feature, I think, so I force Nuke to create the destination path for write nodes (if they do not already exist).</p><p>Add to <code>init.py</code>:</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>nuke</span><span class=o>,</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># If Write dir does not exist, create it</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>createWriteDir</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>file</span> <span class=o>=</span> <span class=n>nuke</span><span class=o>.</span><span class=n>filename</span><span class=p>(</span><span class=n>nuke</span><span class=o>.</span><span class=n>thisNode</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=nb>dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span> <span class=n>file</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>osdir</span> <span class=o>=</span> <span class=n>nuke</span><span class=o>.</span><span class=n>callbacks</span><span class=o>.</span><span class=n>filenameFilter</span><span class=p>(</span> <span class=nb>dir</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span> <span class=n>osdir</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Activate the createWriteDir function</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>addBeforeRender</span><span class=p>(</span> <span class=n>createWriteDir</span> <span class=p>)</span></span></span></code></pre></div></div><p>Make Quicktime Write nodes default to sRGB</p><p>In Mac OS X prior to 10.6, the default system gamma value was 1.8. Today all new Macs are shipped running Mac OS X in gamma 2.2. Therefore, leaving Nuke’s default value of gamma 1.8 is mostly a legacy thing. In order to change this default into sRGB, enter the following into <code>init.py</code>:</p><div class=code-block-wrapper><button class=copy-code-button aria-label="Copy code to clipboard">
<svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
<svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="20 6 9 17 4 12"/></svg></button><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Make Write node default to sRGB color space</span>
</span></span><span class=line><span class=cl><span class=n>nuke</span><span class=o>.</span><span class=n>knobDefault</span><span class=p>(</span><span class=s1>&#39;Write.mov.colorspace&#39;</span><span class=p>,</span> <span class=s1>&#39;sRGB&#39;</span><span class=p>)</span></span></span></code></pre></div></div></main><div id=giscus-container class=giscus-comments><div class=load-comments-wrapper><button id=load-comments-btn class=load-comments-btn>Load Comments</button></div></div><script>(function(){const e=document.getElementById("giscus-container"),t=document.getElementById("load-comments-btn");function o(){if(!e)return;e.innerHTML="";const n=document.body.classList.contains("dark")?"dark":"light",t=document.createElement("script");t.src="https://giscus.app/client.js",t.setAttribute("data-repo","fredrikaverpil/fredrikaverpil.github.io"),t.setAttribute("data-repo-id","MDEwOlJlcG9zaXRvcnkxMzEwNDU4Njc="),t.setAttribute("data-category","General"),t.setAttribute("data-category-id","DIC_kwDOB8-Z684CU9zc"),t.setAttribute("data-mapping","title"),t.setAttribute("data-strict","0"),t.setAttribute("data-reactions-enabled","1"),t.setAttribute("data-emit-metadata","0"),t.setAttribute("data-input-position","bottom"),t.setAttribute("data-theme",n),t.setAttribute("data-lang","en"),t.setAttribute("crossorigin","anonymous"),t.async=!0,e.appendChild(t)}t&&t.addEventListener("click",o);function n(e){const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}const s=document.getElementById("theme-toggle");s&&s.addEventListener("click",()=>{setTimeout(()=>{const e=document.body.classList.contains("dark")?"dark":"light";n(e)},10)}),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";n(t)}})})()</script><footer><div class=footer-content><span class=footer-icons><a href=https://github.com/markholloway target=_blank rel=noopener title=GitHub><svg role="img" viewBox="0 0 24 24" width="1.2em" height="1.2em" fill="currentColor"><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
</a><a href=https://linkedin.com/in/mholloway target=_blank rel=noopener title=LinkedIn><svg role="img" viewBox="0 0 24 24" width="1.2em" height="1.2em" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
</a><a href=/blog/index.xml target=_blank rel=noopener title=RSS><svg role="img" viewBox="0 0 24 24" width="1.2em" height="1.2em" fill="currentColor"><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg>
</a><a href=https://cloud.umami.is/share/x4yvhGEscsDh1in8 target=_blank rel=noopener title=Umami><svg role="img" viewBox="0 0 24 24" width="1.2em" height="1.2em" fill="currentColor"><path d="M2.203 8.611H.857a.845.845.0 00-.841.841v.858a13.31 13.31.0 00-.016.6c0 6.627 5.373 12 12 12 6.527.0 11.837-5.212 11.996-11.701.0-.025.004-.05.004-.075V9.452a.845.845.0 00-.841-.841h-1.346c-1.159-4.329-5.112-7.521-9.805-7.521-4.692.0-8.645 3.192-9.805 7.521zm18.444.0H3.37c1.127-3.702 4.57-6.399 8.638-6.399 4.069.0 7.512 2.697 8.639 6.399z"/></svg>
</a></span><span class=footer-text>© Mark Holloway 2005-2026</span></div><script src=/js/main.js></script></footer></body></html>