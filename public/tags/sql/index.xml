<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Sql on Mark Holloway</title><link>https://markholloway.com/tags/sql/</link><description>Recent content in Sql on Mark Holloway</description><generator>Hugo</generator><language>en-us</language><copyright>© Mark Holloway</copyright><lastBuildDate>Sat, 17 Dec 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://markholloway.com/tags/sql/index.xml" rel="self" type="application/rss+xml"/><item><title>Postgres notes</title><link>https://markholloway.com/blog/2022/12/17/postgres-notes/</link><pubDate>Sat, 17 Dec 2022 00:00:00 +0000</pubDate><guid>https://markholloway.com/blog/2022/12/17/postgres-notes/</guid><description>&lt;h2 id="good-practice-when-running-sql-query-in-prod"&gt;Good practice when running SQL query in prod&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Have a rollback strategy
&lt;ul&gt;
&lt;li&gt;For example, create a query which creates a temporary table which holds a list of ids so that this list can later be used to “roll back” changes made to other tables.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Run both the main query and the rollback query in staging first&lt;/li&gt;
&lt;li&gt;Run the queries with a transaction without commit first, to see that it completes without errors (&lt;code&gt;BEGIN;&lt;/code&gt; without &lt;code&gt;COMMIT;&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="repo-with-various-orm--raw-sql-queries"&gt;Repo with various ORM / raw SQL queries&lt;/h2&gt;
&lt;p&gt;




 
 
 
 
 
 

 
 
 
 
 

 
 
 
 
 

 
 

 &lt;a href="https://github.com/fredrikaverpil/postgres-playground" target="_blank" rel="noopener" class="github-link"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"&gt;&lt;path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"&gt;&lt;/path&gt;&lt;/svg&gt;fredrikaverpil/postgres-playground: A personal PostgreSQL playground (github.com)&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>