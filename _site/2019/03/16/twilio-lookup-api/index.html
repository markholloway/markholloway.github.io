<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Using Twilio Lookup API for phone number validation and fraud prevention &middot; Mark Holloway
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://localhost:4000/public/css/poole_custom.css">
  <link rel="stylesheet" href="/public/css/syntax_dracula.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/hyde_custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface|Press+Start+2P|Exo+2:700">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">



  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Force https -->
  
  <script>
    var host = 'markholloway.github.io';
    if (window.location.host == host && window.location.protocol != 'https:') {
        window.location.protocol = 'https:';
    }
</script>

  

  <!-- Jekyll SEO tag plugin -->
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Using Twilio Lookup API for phone number validation and fraud prevention | Mark Holloway</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Using Twilio Lookup API for phone number validation and fraud prevention" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="With the Twilio Lookup API it’s possible to instantly obtain information about a caller such as caller name, carrier name, carrier type, number type, and porting history." />
<meta property="og:description" content="With the Twilio Lookup API it’s possible to instantly obtain information about a caller such as caller name, carrier name, carrier type, number type, and porting history." />
<link rel="canonical" href="http://localhost:4000/2019/03/16/twilio-lookup-api/" />
<meta property="og:url" content="http://localhost:4000/2019/03/16/twilio-lookup-api/" />
<meta property="og:site_name" content="Mark Holloway" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-16T00:00:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@twilion2" />
<script type="application/ld+json">
{"description":"With the Twilio Lookup API it’s possible to instantly obtain information about a caller such as caller name, carrier name, carrier type, number type, and porting history.","@type":"BlogPosting","url":"http://localhost:4000/2019/03/16/twilio-lookup-api/","headline":"Using Twilio Lookup API for phone number validation and fraud prevention","dateModified":"2019-03-16T00:00:00-04:00","datePublished":"2019-03-16T00:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/03/16/twilio-lookup-api/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

  
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131536379-1', 'auto');
  ga('send', 'pageview');

</script>



  <body>
    
    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Mark Holloway
        </a>
      </h1>
      <p class="lead">Turning Telco into Code</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <p>
        <a class="sidebar-nav-icons" href="https://github.com/markholloway" target="blank"><img src="/public/GitHub-Mark-Light-32px.png" alt="Github" width="18" height="18"></a>
        <a class="sidebar-nav-icons" href="http://www.linkedin.com/in/mholloway/" target="blank"><img src="/public/linkedin.png" alt="LinkedIn" width="19" height="19"></a>
      </p>

    </nav>

    <p><small>&copy; 2019 All rights reserved.</small></p>
  </div>
</div>


    <div class="content container">
      



<div class="post">
  <h1 class="post-title">Using Twilio Lookup API for phone number validation and fraud prevention</h1>
  <span class="post-date">16 Mar 2019 <i class="fa fa-tags"></i> <a href="/blog/tag/twilio/">#twilio</a> <!--comma--><a href="/blog/tag/lookup/">#lookup</a> </span>

  <p>With the Twilio <code class="highlighter-rouge">Lookup</code> API it’s possible to instantly obtain information about a caller such as caller name, carrier name, carrier type, number type, and porting history. 
<!--more--></p>

<p>Twilio provides the <code class="highlighter-rouge">Lookup</code> API as a way to validate if a number is real or ficticious and provide additional details associated with the number. The data Twilio provides is real-time. This is critical to knowing if a phone number was stolen and ported or sim-swapped. People who intend to commit fraud operate quickly and having real time data available is critical to fraud prevention.</p>

<h2 id="use-cases-for-lookup">Use cases for Lookup</h2>

<p>When users visit a web site and fill out a form they may be required to enter their mobile or home phone number. Lookup can instantly validate the formatting and make sure digits were not inadvertantly mistyped. If a user enters a landline in a mobile number field, which may also have an opt-in for SMS, Lookup will recognize the number entered is not a mobile number.</p>

<p>In other cases malicious users may obtain numbers in bulk with the intention of using them for fraud. Lookup can differentiate easily obtained <code class="highlighter-rouge">VoIP</code> numbers from landline and mobile numbers.</p>

<p>Often times Contact Centers would like to know if callers are calling from a mobile phone and will use Lookup to note the information and make the Agent aware the user is calling from a mobile phone and present the “In case we get dropped…” script.</p>

<p>True story. A top C level of a crypto-currency company had his phone number stolen, ported to another carrier, and sim-swapped within minutes. A person with malicious intent began accessing financial accounts to start transferring money. 2FA with authorization codes sent via SMS to the mobile number were not an issue since the number was now controlled by someone else. This all went down within 45 minutes. There are many ways this could have been prevented, but one simple step is when a user’s mobile number has been very recently ported, whether minutes, hours, or days, do not allow financial transaction beyond a trivial amount.</p>

<h2 id="using-lookup">Using Lookup</h2>

<p>To immediately see Lookup in action for Disney World’s number <code class="highlighter-rouge">4079395277</code> log in to the Twilio console and on the left side of the screen select Lookup. If you do not see Lookup click on the three <code class="highlighter-rouge">...</code> on the bottom left bar. Using Lookup in console is handy for demonstration purposes or manually performing a lookup request.</p>

<p><img src="/blog/assets/2019-03-16/lookup-console.png" alt="" /></p>

<p>Here is an example of Lookup using <code class="highlighter-rouge">CURL</code> for the same phone number. The results are returned by Twilio in JSON format. I use the <code class="highlighter-rouge">-o</code> option to save the results in a file called <code class="highlighter-rouge">lookup.json</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl -XGET "https://lookups.twilio.com/v1/PhoneNumbers/4079395277?CountryCode=US&amp;Type=carrier" \
-u '{SID}:{AuthToken}' \
-o lookup.json

</code></pre></div></div>

<h2 id="nodejs-example">Node.js example</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">const</span> <span class="nx">accountSid</span> <span class="o">=</span> <span class="s1">'{SID}'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">authToken</span> <span class="o">=</span> <span class="s1">'{AuthToken}'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'twilio'</span><span class="p">)(</span><span class="nx">accountSid</span><span class="p">,</span> <span class="nx">authToken</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">lookups</span><span class="p">.</span><span class="nx">phoneNumbers</span><span class="p">(</span><span class="s1">'+14079395277'</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">fetch</span><span class="p">({</span><span class="na">type</span><span class="p">:</span> <span class="s1">'caller-name'</span><span class="p">})</span>
              <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">phone_number</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">phone_number</span><span class="p">.</span><span class="nx">callerName</span><span class="p">));</span>


</code></pre></div></div>

<h2 id="python-example">Python example</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">from</span> <span class="nn">twilio.rest</span> <span class="kn">import</span> <span class="n">Client</span>


<span class="n">account_sid</span> <span class="o">=</span> <span class="s">'{SID}'</span>
<span class="n">auth_token</span> <span class="o">=</span> <span class="s">'{AuthToken}'</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">account_sid</span><span class="p">,</span> <span class="n">auth_token</span><span class="p">)</span>

<span class="n">phone_number</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">lookups</span><span class="o">.</span><span class="n">phone_numbers</span><span class="p">(</span><span class="s">'+14079395277'</span><span class="p">)</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span>
                                                                <span class="nb">type</span><span class="o">=</span><span class="s">'caller-name'</span>
                                                            <span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">phone_number</span><span class="o">.</span><span class="n">callerName</span><span class="p">)</span>

</code></pre></div></div>

<p>Results returned in <code class="highlighter-rouge">JSON</code> format</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"caller_name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"caller_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DISNEY RESV CTR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"caller_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUSINESS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+14079395277"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"national_format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(407) 939-5277"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"carrier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"mobile_country_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mobile_network_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smart City Telecommunications, LLC dba Smart City Telecom"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"landline"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"add_ons"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://lookups.twilio.com/v1/PhoneNumbers/+14079395277?Type=carrier&amp;Type=caller-name"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>


</div>

<!--
<div class="donate">
</div>

-->



<!-- fluidvids.js -->
<script src="/public/js/fluidvids/dist/fluidvids.js"></script>
<script>
fluidvids.init({
  selector: ['iframe'],
  players: ['www.youtube.com', 'player.vimeo.com']
});
</script>



  <!-- Disqus comments. -->
<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables

var disqus_config = function () {
this.page.url = 'http://localhost:4000/2019/03/16/twilio-lookup-api/'; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = '/2019/03/16/twilio-lookup-api/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/

/**

Using variables from _config.yml instead of static entries

*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//mh-blog-2.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



    </div>

  </body>
</html>
