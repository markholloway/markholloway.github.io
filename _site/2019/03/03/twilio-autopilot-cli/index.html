<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Build and publish Autopilot BOT Assistants with Twilio's CLI tool &middot; Mark Holloway
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://localhost:4000/public/css/poole_custom.css">
  <link rel="stylesheet" href="/public/css/syntax_dracula.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/hyde_custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface|Press+Start+2P|Exo+2:700">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">



  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Force https -->
  
  <script>
    var host = 'markholloway.github.io';
    if (window.location.host == host && window.location.protocol != 'https:') {
        window.location.protocol = 'https:';
    }
</script>

  

  <!-- Jekyll SEO tag plugin -->
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Build and publish Autopilot BOT Assistants with Twilio’s CLI tool | Mark Holloway</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Build and publish Autopilot BOT Assistants with Twilio’s CLI tool" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Twilio recently released a CLI utility to build and manage Autopilot Assistants locally. This demonstrates how to setup credentials and publish an Assistant" />
<meta property="og:description" content="Twilio recently released a CLI utility to build and manage Autopilot Assistants locally. This demonstrates how to setup credentials and publish an Assistant" />
<link rel="canonical" href="http://localhost:4000/2019/03/03/twilio-autopilot-cli/" />
<meta property="og:url" content="http://localhost:4000/2019/03/03/twilio-autopilot-cli/" />
<meta property="og:site_name" content="Mark Holloway" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-03T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@twilion2" />
<script type="application/ld+json">
{"description":"Twilio recently released a CLI utility to build and manage Autopilot Assistants locally. This demonstrates how to setup credentials and publish an Assistant","@type":"BlogPosting","url":"http://localhost:4000/2019/03/03/twilio-autopilot-cli/","headline":"Build and publish Autopilot BOT Assistants with Twilio’s CLI tool","dateModified":"2019-03-03T00:00:00-05:00","datePublished":"2019-03-03T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/03/03/twilio-autopilot-cli/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

  
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131536379-1', 'auto');
  ga('send', 'pageview');

</script>



  <body>
    
    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Mark Holloway
        </a>
      </h1>
      <p class="lead">Turning Telco into Code</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <p>
        <a class="sidebar-nav-icons" href="https://github.com/markholloway" target="blank"><img src="/public/GitHub-Mark-Light-32px.png" alt="Github" width="18" height="18"></a>
        <a class="sidebar-nav-icons" href="http://www.linkedin.com/in/mholloway/" target="blank"><img src="/public/linkedin.png" alt="LinkedIn" width="19" height="19"></a>
      </p>

    </nav>

    <p><small>&copy; 2019 All rights reserved.</small></p>
  </div>
</div>


    <div class="content container">
      



<div class="post">
  <h1 class="post-title">Build and publish Autopilot BOT Assistants with Twilio's CLI tool</h1>
  <span class="post-date">03 Mar 2019 <i class="fa fa-tags"></i> <a href="/blog/tag/twilio/">#twilio</a> <!--comma--><a href="/blog/tag/autopilot/">#autopilot</a> </span>

  <p><img src="/blog/assets/2019-03-03/ap-cli.png" alt="" /></p>

<p>Twilio recently released a <code class="highlighter-rouge">CLI</code> utility to build and manage Autopilot Assistants locally. This demonstrates how to setup credentials and publish an Assistant
<!--more--></p>

<p>When building an Autopilot Assistant it’s typically done through the Twilio <a href="http://www.twilio.com/console">Console</a>. What’s convenient about this is Twilio includes a <code class="highlighter-rouge">Test Your Assistant</code> tool in the browser so it’s not necessary to dial in to a Twilio number for every test.</p>

<p><img src="/blog/assets/2019-03-03/test-assistant.png" alt="" /></p>

<h2 id="install-autopilot-cli-using-node-package-manager">Install Autopilot CLI using Node Package Manager</h2>

<p>Autopilot CLI is installed using <code class="highlighter-rouge">npm</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mark<span class="nv">$ </span><span class="nb">sudo </span>npm install <span class="nt">-g</span> @twilio/autopilot-cli
</code></pre></div></div>

<p>In your terminal window enter <code class="highlighter-rouge">ta</code> to see output like the picture above.</p>

<h2 id="configure-twilio-credentials">Configure Twilio Credentials</h2>

<p>Autopilot CLI needs the SID and Auth Token for the account where Assistants will reside. Use the <code class="highlighter-rouge">--credentials</code> option when more than one account should be accessed from Autopilot CLI.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mark<span class="nv">$ </span>ta init

Please visit https://www.twilio.com/console
Fill <span class="k">in </span>the Twilio ACCOUNT SID and Twilio AUTH TOKEN below 
to save/modify your Twilio credentials.

? Twilio ACCOUNT SID:
 ACXXXXXXXXXXXXXXXXXXXXXXXXXX

? Twilio AUTH TOKEN:
 feXXXXXXXXXXXXXXXXXXXXXXXXXX
</code></pre></div></div>

<p>Once credentials are successfully added the Autopilot CLI will communicate with the Twilio platform to perform CLI actions.</p>

<h2 id="list-current-assistants-associated-with-the-account-sid">List Current Assistants Associated with the Account SID</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mark<span class="nv">$ </span>ta list

UA52e35a7976b5fea8e544ba8 Make_a_Reservation
UA1c59d8db97e01531ecc5d65 Schedule_an_Appointment
UAda134911d1bce1aa68f2698 SMS_WhatsApp_FB_Customer_Service_Bot 
</code></pre></div></div>

<p>To try a demo of <code class="highlighter-rouge">Schedule an Appointment</code> dial <code class="highlighter-rouge">+1-213-319-4095</code></p>

<h2 id="exporting-an-assistant-schema">Exporting an Assistant Schema</h2>

<p>I would like to check <code class="highlighter-rouge">Make a Reservation</code> and see if there is more work to be done building the Assistant. To do this I must export the schema as JSON</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mark<span class="nv">$ </span>ta <span class="nb">export</span>
? Choose your assistant:  <span class="o">(</span>Use arrow keys<span class="o">)</span>
❯   Make_a_Reservation 
    Schedule_an_Appointment
    SMS_WhatsApp_FB_Customer_Service_Bot

Exporting Assistant......

File exported <span class="k">in </span>Make_a_Reservation.json 
</code></pre></div></div>

<h2 id="view-exported-json">View Exported JSON</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mark<span class="nv">$ </span>more Make_a_Reservation.json
</code></pre></div></div>

<p>Below is the conents that makes up the <code class="highlighter-rouge">Make a Reservation</code> Assistant. It will be easiest to copy and paste into another application to view the entire contents of the file without scrolling.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
	</span><span class="s2">"friendlyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Restaurant"</span><span class="p">,</span><span class="w">
	</span><span class="s2">"logQueries"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
	</span><span class="s2">"uniqueName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Restaurant"</span><span class="p">,</span><span class="w">
	</span><span class="s2">"defaults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="s2">"defaults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
			</span><span class="s2">"assistant_initiation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"task://initiation-task"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"fallback"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"task://initiation-task"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"collect"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"validate_on_failure"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"task://initiation-task"</span><span class="w">
			</span><span class="p">}</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">},</span><span class="w">
	</span><span class="s2">"styleSheet"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="s2">"style_sheet"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
			</span><span class="s2">"collect"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"validate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
					</span><span class="s2">"on_failure"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
						</span><span class="s2">"repeat_question"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
						</span><span class="s2">"messages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
							</span><span class="p">{</span><span class="w">
								</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"I'm sorry, can you please say that again"</span><span class="w">
							</span><span class="p">},</span><span class="w">
							</span><span class="p">{</span><span class="w">
								</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"hmm I still did'nt catch that, can you please repeat"</span><span class="w">
							</span><span class="p">},</span><span class="w">
							</span><span class="p">{</span><span class="w">
								</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Let's give it one more try. Please say it one more time"</span><span class="w">
							</span><span class="p">}</span><span class="w">
						</span><span class="p">]</span><span class="w">
					</span><span class="p">},</span><span class="w">
					</span><span class="s2">"on_success"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">},</span><span class="w">
					</span><span class="s2">"max_attempts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
				</span><span class="p">}</span><span class="w">
			</span><span class="p">},</span><span class="w">
			</span><span class="s2">"voice"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"say_voice"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Polly.Matthew"</span><span class="w">
			</span><span class="p">}</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">},</span><span class="w">
	</span><span class="s2">"fieldTypes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
	</span><span class="s2">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="s2">"uniqueName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"confirm-reservation"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
					</span><span class="p">{</span><span class="w">
						</span><span class="s2">"redirect"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
							</span><span class="s2">"uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sand-mallard-4168.twil.io/deep-table-make-reservation"</span><span class="w">
						</span><span class="p">}</span><span class="w">
					</span><span class="p">}</span><span class="w">
				</span><span class="p">]</span><span class="w">
			</span><span class="p">},</span><span class="w">
			</span><span class="s2">"fields"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
			</span><span class="s2">"samples"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"confirm reservation"</span><span class="w">
				</span><span class="p">}</span><span class="w">
			</span><span class="p">]</span><span class="w">
		</span><span class="p">},</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="s2">"uniqueName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"make-reservation"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
					</span><span class="p">{</span><span class="w">
						</span><span class="s2">"collect"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
							</span><span class="s2">"on_complete"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
								</span><span class="s2">"redirect"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"task://confirm-reservation"</span><span class="w">
							</span><span class="p">},</span><span class="w">
							</span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"make_reservation"</span><span class="p">,</span><span class="w">
							</span><span class="s2">"questions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
								</span><span class="p">{</span><span class="w">
									</span><span class="s2">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Twilio.FIRST_NAME"</span><span class="p">,</span><span class="w">
									</span><span class="s2">"question"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
										</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Great, I can help you with that. What's your first name?"</span><span class="w">
									</span><span class="p">},</span><span class="w">
									</span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"first_name"</span><span class="w">
								</span><span class="p">},</span><span class="w">
								</span><span class="p">{</span><span class="w">
									</span><span class="s2">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Twilio.DATE"</span><span class="p">,</span><span class="w">
									</span><span class="s2">"question"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
										</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"When day would you like your reservation for?"</span><span class="w">
									</span><span class="p">},</span><span class="w">
									</span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="w">
								</span><span class="p">},</span><span class="w">
								</span><span class="p">{</span><span class="w">
									</span><span class="s2">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Twilio.TIME"</span><span class="p">,</span><span class="w">
									</span><span class="s2">"question"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
										</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Great at what time?"</span><span class="w">
									</span><span class="p">},</span><span class="w">
									</span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"time"</span><span class="w">
								</span><span class="p">},</span><span class="w">
								</span><span class="p">{</span><span class="w">
									</span><span class="s2">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Twilio.NUMBER"</span><span class="p">,</span><span class="w">
									</span><span class="s2">"question"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
										</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"For how many people"</span><span class="w">
									</span><span class="p">},</span><span class="w">
									</span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"party_size"</span><span class="w">
								</span><span class="p">}</span><span class="w">
							</span><span class="p">]</span><span class="w">
						</span><span class="p">}</span><span class="w">
					</span><span class="p">}</span><span class="w">
				</span><span class="p">]</span><span class="w">
			</span><span class="p">},</span><span class="w">
			</span><span class="s2">"fields"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
			</span><span class="s2">"samples"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"How do I make a reservation?"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Can I make a reservation?"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"I would like to make a reservation"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"reservation tonight"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"can i make a reservation"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"reservations"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"reservation for"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"i would like to make a reservation"</span><span class="w">
				</span><span class="p">}</span><span class="w">
			</span><span class="p">]</span><span class="w">
		</span><span class="p">},</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="s2">"uniqueName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"get-specials"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
					</span><span class="p">{</span><span class="w">
						</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Today's special is seasoned prime rib with roasted mashed potatoes, super recommended, is there anything else I can help you with?"</span><span class="w">
					</span><span class="p">},</span><span class="w">
					</span><span class="p">{</span><span class="w"> </span><span class="s2">"listen"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
				</span><span class="p">]</span><span class="w">
			</span><span class="p">},</span><span class="w">
			</span><span class="s2">"fields"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
			</span><span class="s2">"samples"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the specials for today"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"specials"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"get today's special"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"today's special"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dinner special"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"I want today's special"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"What's the special going on right now"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"I would like to know what the specials are"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Doyou have any specials today?"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"What's today's specials?"</span><span class="w">
				</span><span class="p">}</span><span class="w">
			</span><span class="p">]</span><span class="w">
		</span><span class="p">},</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="s2">"uniqueName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"initiation-task"</span><span class="p">,</span><span class="w">
			</span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
					</span><span class="p">{</span><span class="w">
						</span><span class="s2">"say"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Welcome to Deep Table, the worlds smartest restaurant, I'm Deep Table's Virtual Assistant, I can tell you about todays special or help you make a reservation, What would you like to do today?"</span><span class="w">
					</span><span class="p">},</span><span class="w">
					</span><span class="p">{</span><span class="w"> </span><span class="s2">"listen"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
				</span><span class="p">]</span><span class="w">
			</span><span class="p">},</span><span class="w">
			</span><span class="s2">"fields"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
			</span><span class="s2">"samples"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi there"</span><span class="w">
				</span><span class="p">},</span><span class="w">
				</span><span class="p">{</span><span class="w">
					</span><span class="s2">"language"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
					</span><span class="s2">"taggedText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="w">
				</span><span class="p">}</span><span class="w">
			</span><span class="p">]</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">],</span><span class="w">
	</span><span class="s2">"modelBuild"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"uniqueName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.10"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="modify-schema-and-publish-to-twilio">Modify Schema and Publish to Twilio</h2>

<p>Once changes have been completed it is very easy to publish them to Twilio</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>markh<span class="nv">$ </span>ta update <span class="nt">--schema</span> Make_a_Reservation.json

Updating assistant.....

Assistant <span class="s2">"Make_a_Reservation"</span> was updated
</code></pre></div></div>

<h2 id="handoff">Handoff</h2>

<p>It is possible to set a specifc number of times where Autopilot and the user are not progressing forward and the call should be re-routed to a live person.</p>

<p>If the call setup should occur on Programmable Voice modify the following code</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
	</span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="s2">"say"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hold on, we are connecting you with an agent"</span><span class="w">
		</span><span class="p">},</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="s2">"handoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"voice"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INSET YOUR TWIML_URL HERE"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
			</span><span class="p">}</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>If the call should route to Twilio Taskrouter modify the following code</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
	</span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="s2">"handoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"voice"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taskrouter://WW0123456789abcddef"</span><span class="w">
			</span><span class="p">}</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>If using Flex and the call should route to a Flex queue modify the following code</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
	</span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		</span><span class="p">{</span><span class="w">
			</span><span class="s2">"handoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
				</span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"voice"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taskrouter://WW0123456789abcdef0"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"wait_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://myapp.com/music.php"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"wait_url_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://myapp.com/survey.php"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
				</span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="w">
			</span><span class="p">}</span><span class="w">
		</span><span class="p">}</span><span class="w">
	</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Working with Autopilot CLI cranks up the fun to a new level. Enjoy!</p>



</div>

<!--
<div class="donate">
</div>

-->



<!-- fluidvids.js -->
<script src="/public/js/fluidvids/dist/fluidvids.js"></script>
<script>
fluidvids.init({
  selector: ['iframe'],
  players: ['www.youtube.com', 'player.vimeo.com']
});
</script>



  <!-- Disqus comments. -->
<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables

var disqus_config = function () {
this.page.url = 'http://localhost:4000/2019/03/03/twilio-autopilot-cli/'; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = '/2019/03/03/twilio-autopilot-cli/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/

/**

Using variables from _config.yml instead of static entries

*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//mh-blog-2.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



    </div>

  </body>
</html>
