<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Acme Packet SBC Remote SIP Survivability &middot; Mark Holloway
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://localhost:4000/public/css/poole_custom.css">
  <link rel="stylesheet" href="/public/css/syntax_dracula.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/hyde_custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface|Press+Start+2P|Exo+2:700">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">



  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Force https -->
  
  <script>
    var host = 'markholloway.github.io';
    if (window.location.host == host && window.location.protocol != 'https:') {
        window.location.protocol = 'https:';
    }
</script>

  

  <!-- Jekyll SEO tag plugin -->
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Acme Packet SBC Remote SIP Survivability | Mark Holloway</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Acme Packet SBC Remote SIP Survivability" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="With the release of Acme Packet 6.4m2 software the SBC now supports SIP Remote Survivability. This is applicable for a Service Provider offering Hosted IP PBX or UCaaS using SIP phones which register to a centralized Data Center or Cloud model." />
<meta property="og:description" content="With the release of Acme Packet 6.4m2 software the SBC now supports SIP Remote Survivability. This is applicable for a Service Provider offering Hosted IP PBX or UCaaS using SIP phones which register to a centralized Data Center or Cloud model." />
<link rel="canonical" href="http://localhost:4000/2014/03/30/acme-packet-sbc-remote-survivability/" />
<meta property="og:url" content="http://localhost:4000/2014/03/30/acme-packet-sbc-remote-survivability/" />
<meta property="og:site_name" content="Mark Holloway" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-03-30T00:00:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@twilion2" />
<script type="application/ld+json">
{"description":"With the release of Acme Packet 6.4m2 software the SBC now supports SIP Remote Survivability. This is applicable for a Service Provider offering Hosted IP PBX or UCaaS using SIP phones which register to a centralized Data Center or Cloud model.","@type":"BlogPosting","url":"http://localhost:4000/2014/03/30/acme-packet-sbc-remote-survivability/","headline":"Acme Packet SBC Remote SIP Survivability","dateModified":"2014-03-30T00:00:00-04:00","datePublished":"2014-03-30T00:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2014/03/30/acme-packet-sbc-remote-survivability/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

  
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131536379-1', 'auto');
  ga('send', 'pageview');

</script>



  <body>
    
    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Mark Holloway
        </a>
      </h1>
      <p class="lead">Turning Telco into Code</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <p>
        <a class="sidebar-nav-icons" href="https://github.com/markholloway" target="blank"><img src="/public/GitHub-Mark-Light-32px.png" alt="Github" width="18" height="18"></a>
        <a class="sidebar-nav-icons" href="http://www.linkedin.com/in/mholloway/" target="blank"><img src="/public/linkedin.png" alt="LinkedIn" width="19" height="19"></a>
      </p>

    </nav>

    <p><small>&copy; 2019 All rights reserved.</small></p>
  </div>
</div>


    <div class="content container">
      



<div class="post">
  <h1 class="post-title">Acme Packet SBC Remote SIP Survivability</h1>
  <span class="post-date">30 Mar 2014 <i class="fa fa-tags"></i> <a href="/blog/tag/acme/">#acme packet</a> <!--comma--><a href="/blog/tag/sbc/">#sbc</a> <!--comma--><a href="/blog/tag/sip/">#sip</a> </span>

  <p>With the release of Acme Packet 6.4m2 software the SBC now supports <code class="highlighter-rouge">SIP Remote Survivability</code>. This is applicable for a Service Provider offering <code class="highlighter-rouge">Hosted IP PBX</code> or <code class="highlighter-rouge">UCaaS</code> using SIP phones which register to a centralized Data Center or Cloud model.</p>

<!--more-->

<p>In this example I will focus primarily on the Service Provider model, although it’s just as relevant to the Enterprise model mentioned above since we are talking about remote phones registering over the WAN to a <code class="highlighter-rouge">Softswitch</code> or <code class="highlighter-rouge">IP PBX</code>. In the diagram below the SIP phones register from the Enterprise site over the Internet or <code class="highlighter-rouge">MPLS</code> network to the Service Provider core where a Broadsoft <code class="highlighter-rouge">BroadWorks</code> Softswitch resides. For those note familiar with BroadWorks, think of it as a very large software platform that has the ability to virtualize what looks like many IP PBX’s, each for dedicated customers. Most notably in large deployments it is common to see some sort of SIP enabled Firewall, ALG, or SBC (preferred) on the Enterprise premise. All SIP communication, including SIP registration and originated SIP calls, will egress the Enterprise phones through the SBC up into the Service Provider’s SBC and to BroadWorks. Even if calls are destined for another phone extension in the same Enterprise premise the call must go through the carrier core where CDR’s will be generated and any other Class 5 features may be provided for the call hair pinning back into the Enterprise to a different extension.</p>

<p><img src="/blog/assets/apkt/apkt-remote-survivability01.png" alt="" /></p>

<p>One of the biggest challenges is what happens if the SP core is unreachable. All registrations and call processing will fail, even for calls destined to another phone extension in the same Enterprise, since the <code class="highlighter-rouge">SIP Invite</code> must be able to reach the BroadWorks Softswitch or IP PBX to ring another extension in the same location.</p>

<p><img src="/blog/assets/apkt/apkt-remote-survivability01.png" alt="" /></p>

<p>If the Enterprise is using an Acme Packet SBC on premise the <code class="highlighter-rouge">Survivability Mode</code> will use either the <code class="highlighter-rouge">P-Asserted Identity</code> from the SIP endpoint or optionally the BroadWorks Survivability method using XML. When the SP Core or Enterprise data center becomes unreachable the Survivability Health Score degrades and the SBC knows to process registration and call traffic locally without sending the traffic to the SP Core.</p>

<p>In Survivability Mode phone A has the ability to call phone C even when the SP Core is unreachable. If the Enterprise normally uses abbreviated dialing such as 4-digit extensions, this will still continue to work, as well as dialing the full phone number.</p>

<p><img src="/blog/assets/apkt/apkt-remote-survivability03.png" alt="" /></p>

<p>Some Enterprises may want to have a local <code class="highlighter-rouge">SIP Gateway</code> (such as a Cisco ISR or Adtran Total Access IAD) on premise and utilize one or more PRI’s connected for PSTN access when the SP Core is unreachable. Depending on the Service Provider, the same SP used for SIP Services may also route to the PRI for overflow/outage scenarios so the Enterprise has both inbound and outbound redundancy on premise. The call originated from the SIP network the PSTN where there is no matching Address of Record for SIP phones, the SBC will route the calls to the SIP-PSTN Gateway.</p>

<p><img src="/blog/assets/apkt/apkt-remote-survivability04.png" alt="" /></p>

<p>Below is a basic Remote Survivability configuration.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
NNOS-SD# config t
NNOS-SD(configure)# session-router
NNOS-SD(session-router)# sip-interface
NNOS-SD(sip-interface)# service-tag SipTrunk1 &lt;- Your SIP Interface
NNOS-SD(sip-interface)# done
NNOS-SD(sip-interface)# exit
NNOS-SD(session-router)# survivbility
NNOS-SD(survivability)# enabled
NNOS-SD(survivability)# done
NNOS-SD(survivability)# exit
NNOS-SD(sip-interface)# service-health
NNOS-SD(service-health)# service-tag-list
NNOS-SD(serviceTag)# service-tag-string SipTrunk1
NNOS-SD(serviceTag)# sa-health-profile
NNOS-SD(sa-health-profile)# session-agent-hostname VzB-Trunk01 &lt;- Session Agent to Monitor
NNOS-SD(sa-health-profile)# session-agent-health 100 &lt;- Engage Survivability when below 100

</code></pre></div></div>
<p>Best-practice is to enable <code class="highlighter-rouge">SIP Options</code> ping for each <code class="highlighter-rouge">Session Agent</code>. This way the SBC will pro-actively know when a Session Agent is in-service or out of service and degrade the health score appropriately.</p>

<p>The following has been a basic introduction to the Acme Packet Remote Survivability feature. There is more functionality and detail that may be applied and is well documented in the E-CX Maintenance Guide. Although a subset of this functionality has existed on other SIP ALG platforms in the past, Acme Packet has introduced many great new features relevant for Remote Survivability that do not exist elsewhere. All the resiliency and High-Availability that is inherent to the Acme Packet platform remains intact even when Remote Survivability is engaged.</p>



</div>

<!--
<div class="donate">
</div>

-->



<!-- fluidvids.js -->
<script src="/public/js/fluidvids/dist/fluidvids.js"></script>
<script>
fluidvids.init({
  selector: ['iframe'],
  players: ['www.youtube.com', 'player.vimeo.com']
});
</script>



  <!-- Disqus comments. -->
<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables

var disqus_config = function () {
this.page.url = 'http://localhost:4000/2014/03/30/acme-packet-sbc-remote-survivability/'; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = '/2014/03/30/acme-packet-sbc-remote-survivability/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/

/**

Using variables from _config.yml instead of static entries

*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//mh-blog-2.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



    </div>

  </body>
</html>
